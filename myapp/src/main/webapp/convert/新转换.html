<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>新转换</title>

	<meta name="baidu-site-verification" content="AjVAHSzyrE" />
	<meta name="author" content="lmj">
	<meta data-vue-meta="true" data-vmid="keywords" name="keywords"
		content="玩Android,学Android,wanandroid,xueandroid,Android知识体系,Android开发工具,自定义View" />
	<meta data-vue-meta="true" data-vmid="description" name="description"
		content="玩Android是一个每日推荐20~30篇Android优质文章的站点，提供Android常用工具和常用网站，并以知识体系的形式展现所有的文章分类。" />

	<link rel="shortcut icon" href="../resources/image/favicon.ico">
	<link rel="stylesheet" type="text/css" href="../resources/css/reset.css" />
	<link rel="stylesheet" type="text/css" href="../resources/css/jquery.harame.css" />
	<link rel="stylesheet" type="text/css" href="../resources/css/iconfont/iconfont.css?v=3" />
	<link rel="stylesheet" type="text/css" href="../resources/css/pc/dialog.css?v=4" />
	<link rel="stylesheet" type="text/css" href="../resources/css/pc/common.css?v=23" />
	<link rel="stylesheet" type="text/css" href="../resources/css/pc/header.css?v=8" />
	<!-- jieri -->
	<link rel="stylesheet" type="text/css" href="../resources/css/pc/surprise.css?v=1" />
	<!-- -->
	<script type="text/javascript" src="../resources/js/jquery-1.10.2.min.js"></script>
	<script type="text/javascript" src="../resources/js/jquery-migrate-1.2.1.min.js"></script>
	<script type="text/javascript" src="../resources/js/jquery.harame.js"></script>
	<script type="text/javascript" src="../resources/js/pc/common.js?v=5"></script>

	<!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->
	<script>

		/* (adsbygoogle = window.adsbygoogle || []).push({
		   google_ad_client: "ca-pub-6857356622430344",
		   enable_page_level_ads: true
		}); */
	</script>
	<script type="text/javascript">
		var basepath = "/";
		var _debug = true;
	</script>
	<script type="text/javascript">
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?90501e13a75bb5eb3d067166e8d2cad8";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>
	<span style="display: none;" id="basepath">/</span>

	<link href="../resources/tools/bejson/jsoneditor.css?v=2" rel="stylesheet" type="text/css">


	<link href="../resources/css/pc/tool.css?v=5" rel="stylesheet" type="text/css">
	<script src="../resources/tools/bejson/jsoneditor_5_10.js"></script>
	<script src="../resources/tools/bejson/jsonlint.js"></script>
	<script src="../resources/tools/bejson/tool.js"></script>
	<script src="../resources/tools/bejson/to-bean.js"></script>
</head>

<body>
	<div class="e" id="bejson">




		<div class="header">
			<div>
				<div class="logo">
					<a href="http://www.wanandroid.com">
						<img src="../resources/image/pc/logo.png" width="68px" height="50px" alt="wan android" />
					</a>
				</div>
				<div class="nav">
					<ul id="headerNAV">
						<li id="index"><a href="/index">首页</a></li>


						<li><a href="/tools/bejson">bejson</a></li>





						<li><a href="http://www.wanandroid.com/openapis">OpenApis</a></li>



						<li><a href="/tools/digit">md5&sha</a></li>



						<li><a href="/maven_pom/index">Google Repo</a></li>



						<li><a href="/tools/base64">base64</a></li>





						<li><a href="/tools/qrcode">二维码</a></li>



						<li><a href="/tools/color">取色器</a></li>









						<li><a href="/tools/decimal">进制转化</a></li>















						<li><a href="/lg/userdraft/show">草稿记事</a></li>


						<li class="more_tools hasSubUl moreTools"><a>更多</a>
							<div class="">
								<ul>






									<li><a href="/tools/todo">Todo</a></li>














									<li><a href="/tools/decode">urldecode</a></li>














									<li><a href="http://www.iconfont.cn/" target="_blank">iconfont</a></li>






									<li><a href="https://tinypng.com/" target="_blank">tinypng</a></li>








									<li><a href="http://dwz.cn/" target="_blank">短链接</a></li>






									<li><a href="http://www.wanandroid.com/article/list/0?cid=398"
											target="_blank">速查</a></li>






									<li><a href="http://tool.oschina.net/regex" target="_blank">正则</a></li>






									<li><a href="http://t.codekk.com/url-order" target="_blank">URLOrder</a></li>







									<li><a href="/tools/ide">Studio 3.0.1</a></li>





									<li><a href="https://www.upyun.com/https" target="_blank">https检测</a></li>






								</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="cb"></div>
		<script type="text/javascript">
			$(document).ready(function () {
				$(".hasSubUl").mouseenter(function () {
					$(this).find("div").show();
				});
				$(".hasSubUl").mouseleave(function () {
					$(this).find("div").hide();
				});
			});
		</script>
		<div class="e_container_960">
			<div class="bejson_edit_div mt30 ofh cb">
				<input type="hidden" name="code" />
				<div id="jsoneditor" class="code_div"></div>
			</div>
			<div class="opt_div">
				<span class="btn bg3498DB" id="formatter">格式化</span>
				<span class="btn bgE64C3B" id="tree_formatter">树形解析</span>
				<span class="btn bg3498DB" id="md5">md5</span>
				<span class="btn bg3498DB" id="save">保存</span>
				<span class="btn bg999933" style="display:none;" id="copy">复制</span>
				<span class="btn bg7b7b7b" id="clear">清空</span>
				<div class="btn bg3498DB">
					文件名字：<input class="" id="file_name" type="text" value="">
				</div>

			</div>
			<div id="error"></div>
		</div>

		<div style="display: none" id="getset-templ">

			public void setA(T a) {
			this.a = a;
			}
			public T getA() {
			return a;
			}
		</div>


		<div class="footer">
			<p class="mt10">&copy;2020&nbsp;·&nbsp;wanandroid.com&nbsp;·&nbsp;All Rights Reserved.&nbsp;
				<a target="_blank" href="http://www.beian.miit.gov.cn/">皖ICP备17022096号</a>&nbsp;
				<a href="/about">关于我们</a>
			</p>
		</div>



		<div id="optFixed">

		</div>

		<script type="text/javascript">
			$(document).ready(function () {
				$(window).scroll(function () {
					if ($(window).scrollTop() >= 100) {
						$('#optFixed').fadeIn(300);
					} else {
						$('#optFixed').fadeOut(300);
					}
				});
			});
		</script>


		<div id="gotop">
			<span class="iconfont icongotop"></span>
		</div>
		<script type="text/javascript">
			/**
			 * 返回顶部
			 */
			function gotop() {
				$('html,body').animate({ scrollTop: '0px' }, 500);
			}
			$(document).ready(function () {
				$(window).scroll(function () {
					if ($(window).scrollTop() >= 100) {
						$('#gotop').fadeIn(300);
					} else {
						$('#gotop').fadeOut(300);
					}
				});
				$("#gotop").click(gotop);
			});
		</script>

	</div>
	<script type="text/javascript" src="../resources/js/pc/compatibility.js"></script>
	<script src="js/md5.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			$("#headerNAV a[href$='bejson']").parent().addClass("active");
		});
		var container = document.getElementById('jsoneditor');
		var divError = document.getElementById("error");

		var options = {
			modes: ['code', 'view'],
			onEditable: function (node) {
				if (!node.path) {
					return true;
				}
			},
			onError: function (err) {
				divError.innerHTML = err.toString();
			},
			onModeChange: function (newMode, oldMode) {
				console.log('Mode switched from', oldMode, 'to', newMode);
			}
		};

		var json = {
			"desc": "请输入你要格式化的JSON字符串"
		};

		// tree, view, form, code, text.
		var editor = new JSONEditor(container, options, json);

		var btnFormat = document.getElementById("formatter");
		var btnTreeFormat = document.getElementById("tree_formatter");
		var btnMD5 = document.getElementById("md5");
		var btnSave = document.getElementById("save");
		var btnCopy = document.getElementById("copy");
		var btnClear = document.getElementById("clear");
		btnFormat.onclick = function () {
			divError.innerText = "";
			editor.setMode("code");
		}

		btnTreeFormat.onclick = function () {
			divError.innerText = "";
			editor.setMode("view");
		}
		btnMD5.onclick = function () {
			var jsonValue = editor.get();  // 获取编辑后的 JSON 值
			console.log(jsonValue);  // 在控制台输出 JSON 值
			var oriData = JSON.stringify(jsonValue);
			var jsonD = JSON.parse(oriData);
			var time = jsonD.time;
			console.log(time);
			delete jsonD.time;
			delete jsonD.md5;
			var jsonData = JSON.stringify(jsonD);
			var result = md5(md5(jsonData) + "liaobatealib_xxx" + time);
			console.log(result);
			jsonD.time = time;
			jsonD.md5 = result;
			editor.setMode("code");
			editor.setText(JSON.stringify(jsonD));

		}
		btnSave.onclick = function () {
			var jsonValue = editor.get();  // 获取编辑后的 JSON 值
			console.log(jsonValue);  // 在控制台输出 JSON 值
			var content = JSON.stringify(jsonValue);
			var inputElement = document.getElementById("file_name");
			var value = inputElement.value;
			console.log(value);
			var filename = value;

			var blob = new Blob([content], { type: "text/plain;charset=utf-8" });

			// 创建一个下载链接
			var link = document.createElement("a");
			link.href = URL.createObjectURL(blob);
			link.download = filename;

			// 模拟点击下载链接
			link.click();
		}
		btnCopy.onclick = function () {
			// TODO
		}
		btnClear.onclick = function () {
			editor.setMode("code");
			editor.setText("");
		}


	</script>
</body>

</html>